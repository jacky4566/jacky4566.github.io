{"ast":null,"code":"export class Collision {\n  constructor(forBody, level, position = null) {\n    this.forBody = forBody;\n    this.level = level;\n    this.placementsAtPosition = [];\n    this.x = position ? position.x : forBody.x;\n    this.y = position ? position.y : forBody.y;\n    this.scanPlacementsAtPosition();\n  }\n  scanPlacementsAtPosition() {\n    this.placementsAtPosition = this.level.placements.filter(p => {\n      const isSelf = p.id === this.forBody.id;\n      return !isSelf && p.x === this.x && p.y === this.y;\n    });\n  }\n  withSolidPlacement() {\n    return this.placementsAtPosition.find(p => p.isSolidForBody(this.forBody));\n  }\n  withPlacementAddsToInventory() {\n    return this.placementsAtPosition.find(p => {\n      return !p.hasBeenCollected && p.addsItemToInventoryOnCollide(this.forBody);\n    });\n  }\n  withCompletesLevel() {\n    return this.placementsAtPosition.find(p => {\n      return p.completesLevelOnCollide();\n    });\n  }\n  withMinable() {\n    return this.placementsAtPosition.find(p => {\n      return p.completesLevelOnCollide();\n    });\n  }\n  withLock() {\n    return this.placementsAtPosition.find(p => {\n      return p.canBeUnlocked();\n    });\n  }\n  withSelfGetsDamaged() {\n    return this.placementsAtPosition.find(p => {\n      return p.damagesBodyOnCollide(this.forBody);\n    });\n  }\n  withChangesHeroSkin() {\n    return this.placementsAtPosition.find(p => {\n      return p.changesHeroSkinOnCollide();\n    });\n  }\n}","map":{"version":3,"names":["Collision","constructor","forBody","level","position","placementsAtPosition","x","y","scanPlacementsAtPosition","placements","filter","p","isSelf","id","withSolidPlacement","find","isSolidForBody","withPlacementAddsToInventory","hasBeenCollected","addsItemToInventoryOnCollide","withCompletesLevel","completesLevelOnCollide","withMinable","withLock","canBeUnlocked","withSelfGetsDamaged","damagesBodyOnCollide","withChangesHeroSkin","changesHeroSkinOnCollide"],"sources":["C:/GitHub/AthabascaCPSCI/COMP 486/Mineral Mayhem/src/classes/Collision.js"],"sourcesContent":["\r\nexport class Collision {\r\n  constructor(forBody, level, position = null) {\r\n    this.forBody = forBody;\r\n    this.level = level;\r\n    this.placementsAtPosition = [];\r\n    this.x = position ? position.x : forBody.x;\r\n    this.y = position ? position.y : forBody.y;\r\n    this.scanPlacementsAtPosition();\r\n  }\r\n\r\n  scanPlacementsAtPosition() {\r\n    this.placementsAtPosition = this.level.placements.filter((p) => {\r\n      const isSelf = p.id === this.forBody.id;\r\n      return !isSelf && p.x === this.x && p.y === this.y;\r\n    });\r\n  }\r\n\r\n  withSolidPlacement() {\r\n    return this.placementsAtPosition.find((p) =>\r\n      p.isSolidForBody(this.forBody)\r\n    );\r\n  }\r\n\r\n  withPlacementAddsToInventory() {\r\n    return this.placementsAtPosition.find((p) => {\r\n      return (\r\n        !p.hasBeenCollected && p.addsItemToInventoryOnCollide(this.forBody)\r\n      );\r\n    });\r\n  }\r\n\r\n  withCompletesLevel() {\r\n    return this.placementsAtPosition.find((p) => {\r\n      return p.completesLevelOnCollide();\r\n    });\r\n  }\r\n\r\n  withMinable(){\r\n    return this.placementsAtPosition.find((p) => {\r\n      return p.completesLevelOnCollide();\r\n    });\r\n  }\r\n\r\n  withLock() {\r\n    return this.placementsAtPosition.find((p) => {\r\n      return p.canBeUnlocked();\r\n    });\r\n  }\r\n\r\n  withSelfGetsDamaged() {\r\n    return this.placementsAtPosition.find((p) => {\r\n      return p.damagesBodyOnCollide(this.forBody);\r\n    });\r\n  }\r\n\r\n  withChangesHeroSkin() {\r\n    return this.placementsAtPosition.find((p) => {\r\n      return p.changesHeroSkinOnCollide();\r\n    });\r\n  }\r\n}"],"mappings":"AACA,OAAO,MAAMA,SAAS,CAAC;EACrBC,WAAWA,CAACC,OAAO,EAAEC,KAAK,EAAEC,QAAQ,GAAG,IAAI,EAAE;IAC3C,IAAI,CAACF,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACE,oBAAoB,GAAG,EAAE;IAC9B,IAAI,CAACC,CAAC,GAAGF,QAAQ,GAAGA,QAAQ,CAACE,CAAC,GAAGJ,OAAO,CAACI,CAAC;IAC1C,IAAI,CAACC,CAAC,GAAGH,QAAQ,GAAGA,QAAQ,CAACG,CAAC,GAAGL,OAAO,CAACK,CAAC;IAC1C,IAAI,CAACC,wBAAwB,CAAC,CAAC;EACjC;EAEAA,wBAAwBA,CAAA,EAAG;IACzB,IAAI,CAACH,oBAAoB,GAAG,IAAI,CAACF,KAAK,CAACM,UAAU,CAACC,MAAM,CAAEC,CAAC,IAAK;MAC9D,MAAMC,MAAM,GAAGD,CAAC,CAACE,EAAE,KAAK,IAAI,CAACX,OAAO,CAACW,EAAE;MACvC,OAAO,CAACD,MAAM,IAAID,CAAC,CAACL,CAAC,KAAK,IAAI,CAACA,CAAC,IAAIK,CAAC,CAACJ,CAAC,KAAK,IAAI,CAACA,CAAC;IACpD,CAAC,CAAC;EACJ;EAEAO,kBAAkBA,CAAA,EAAG;IACnB,OAAO,IAAI,CAACT,oBAAoB,CAACU,IAAI,CAAEJ,CAAC,IACtCA,CAAC,CAACK,cAAc,CAAC,IAAI,CAACd,OAAO,CAC/B,CAAC;EACH;EAEAe,4BAA4BA,CAAA,EAAG;IAC7B,OAAO,IAAI,CAACZ,oBAAoB,CAACU,IAAI,CAAEJ,CAAC,IAAK;MAC3C,OACE,CAACA,CAAC,CAACO,gBAAgB,IAAIP,CAAC,CAACQ,4BAA4B,CAAC,IAAI,CAACjB,OAAO,CAAC;IAEvE,CAAC,CAAC;EACJ;EAEAkB,kBAAkBA,CAAA,EAAG;IACnB,OAAO,IAAI,CAACf,oBAAoB,CAACU,IAAI,CAAEJ,CAAC,IAAK;MAC3C,OAAOA,CAAC,CAACU,uBAAuB,CAAC,CAAC;IACpC,CAAC,CAAC;EACJ;EAEAC,WAAWA,CAAA,EAAE;IACX,OAAO,IAAI,CAACjB,oBAAoB,CAACU,IAAI,CAAEJ,CAAC,IAAK;MAC3C,OAAOA,CAAC,CAACU,uBAAuB,CAAC,CAAC;IACpC,CAAC,CAAC;EACJ;EAEAE,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAAClB,oBAAoB,CAACU,IAAI,CAAEJ,CAAC,IAAK;MAC3C,OAAOA,CAAC,CAACa,aAAa,CAAC,CAAC;IAC1B,CAAC,CAAC;EACJ;EAEAC,mBAAmBA,CAAA,EAAG;IACpB,OAAO,IAAI,CAACpB,oBAAoB,CAACU,IAAI,CAAEJ,CAAC,IAAK;MAC3C,OAAOA,CAAC,CAACe,oBAAoB,CAAC,IAAI,CAACxB,OAAO,CAAC;IAC7C,CAAC,CAAC;EACJ;EAEAyB,mBAAmBA,CAAA,EAAG;IACpB,OAAO,IAAI,CAACtB,oBAAoB,CAACU,IAAI,CAAEJ,CAAC,IAAK;MAC3C,OAAOA,CAAC,CAACiB,wBAAwB,CAAC,CAAC;IACrC,CAAC,CAAC;EACJ;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}