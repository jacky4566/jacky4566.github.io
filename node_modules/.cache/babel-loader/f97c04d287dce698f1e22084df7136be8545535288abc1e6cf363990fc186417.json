{"ast":null,"code":"import { DEATH_TYPE_CLOCK } from \"../helpers/consts\";\nconst TIME_PER_TICK = 16.6;\nconst WARNING_SOUND_SECONDS = 10;\nexport class Clock {\n  constructor(secondsRemaining, level) {\n    this.secondsRemaining = secondsRemaining;\n    this.level = level;\n    this.msRemainingInSecond = 1000;\n  }\n  tick() {\n    this.msRemainingInSecond -= TIME_PER_TICK;\n    if (this.msRemainingInSecond <= 0) {\n      this.msRemainingInSecond = 1000;\n      this.secondsRemaining -= 1;\n\n      //Trigger things based on second change\n      // Lose if the clock hits 0\n      if (this.secondsRemaining <= 0) {\n        this.level.setDeathOutcome(DEATH_TYPE_CLOCK);\n        return;\n      }\n\n      // Warning sound effects!\n      if (this.secondsRemaining <= WARNING_SOUND_SECONDS) {\n        // SFX Goes here...\n        console.log(\"BINK!\");\n      }\n    }\n  }\n}","map":{"version":3,"names":["DEATH_TYPE_CLOCK","TIME_PER_TICK","WARNING_SOUND_SECONDS","Clock","constructor","secondsRemaining","level","msRemainingInSecond","tick","setDeathOutcome","console","log"],"sources":["C:/GitHub/AthabascaCPSCI/COMP 486/Mineral Mayhem/src/classes/Clock.js"],"sourcesContent":["import { DEATH_TYPE_CLOCK } from \"../helpers/consts\";\r\n \r\nconst TIME_PER_TICK = 16.6;\r\nconst WARNING_SOUND_SECONDS = 10;\r\n\r\nexport class Clock {\r\n  constructor(secondsRemaining, level) {\r\n    this.secondsRemaining = secondsRemaining;\r\n    this.level = level;\r\n    this.msRemainingInSecond = 1000;\r\n  }\r\n\r\n  tick() {\r\n    this.msRemainingInSecond -= TIME_PER_TICK;\r\n    if (this.msRemainingInSecond <= 0) {\r\n      this.msRemainingInSecond = 1000;\r\n      this.secondsRemaining -= 1;\r\n\r\n      //Trigger things based on second change\r\n      // Lose if the clock hits 0\r\n      if (this.secondsRemaining <= 0) {\r\n        this.level.setDeathOutcome(DEATH_TYPE_CLOCK);\r\n        return;\r\n      }\r\n\r\n      // Warning sound effects!\r\n      if (this.secondsRemaining <= WARNING_SOUND_SECONDS) {\r\n        // SFX Goes here...\r\n        console.log(\"BINK!\");\r\n      }\r\n    }\r\n  }\r\n}"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,mBAAmB;AAEpD,MAAMC,aAAa,GAAG,IAAI;AAC1B,MAAMC,qBAAqB,GAAG,EAAE;AAEhC,OAAO,MAAMC,KAAK,CAAC;EACjBC,WAAWA,CAACC,gBAAgB,EAAEC,KAAK,EAAE;IACnC,IAAI,CAACD,gBAAgB,GAAGA,gBAAgB;IACxC,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,mBAAmB,GAAG,IAAI;EACjC;EAEAC,IAAIA,CAAA,EAAG;IACL,IAAI,CAACD,mBAAmB,IAAIN,aAAa;IACzC,IAAI,IAAI,CAACM,mBAAmB,IAAI,CAAC,EAAE;MACjC,IAAI,CAACA,mBAAmB,GAAG,IAAI;MAC/B,IAAI,CAACF,gBAAgB,IAAI,CAAC;;MAE1B;MACA;MACA,IAAI,IAAI,CAACA,gBAAgB,IAAI,CAAC,EAAE;QAC9B,IAAI,CAACC,KAAK,CAACG,eAAe,CAACT,gBAAgB,CAAC;QAC5C;MACF;;MAEA;MACA,IAAI,IAAI,CAACK,gBAAgB,IAAIH,qBAAqB,EAAE;QAClD;QACAQ,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACtB;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}