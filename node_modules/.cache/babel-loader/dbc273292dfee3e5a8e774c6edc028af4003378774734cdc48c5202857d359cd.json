{"ast":null,"code":"export class GameLoop {\n  constructor(onStep) {\n    //Run this every redraw frame\n    this.onStep = onStep;\n    this.rafCallback = null;\n    this.start();\n  }\n  start() {\n    let previousMs;\n    const step = 1 / 60;\n    const tick = timestampMs => {\n      if (previousMs === undefined) {\n        previousMs = timestampMs;\n      }\n      let delta = (timestampMs - previousMs) / 1000;\n      while (delta >= step) {\n        this.onStep();\n        delta -= step;\n      }\n      previousMs = timestampMs - delta * 1000;\n      //Recapture the callback to be able to shut it off\n      this.rafCallback = requestAnimationFrame(tick);\n    };\n\n    // Initial kickoff\n    this.rafCallback = requestAnimationFrame(tick);\n  }\n  stop() {\n    cancelAnimationFrame(this.rafCallback);\n  }\n}","map":{"version":3,"names":["GameLoop","constructor","onStep","rafCallback","start","previousMs","step","tick","timestampMs","undefined","delta","requestAnimationFrame","stop","cancelAnimationFrame"],"sources":["C:/GitHub/AthabascaCPSCI/COMP 486/Mineral Mayhem/src/classes/GameLoop.js"],"sourcesContent":["export class GameLoop {\r\n    constructor(onStep) {\r\n        //Run this every redraw frame\r\n      this.onStep = onStep;\r\n      this.rafCallback = null;\r\n      this.start();\r\n    }\r\n  \r\n    start() {\r\n      let previousMs;\r\n      const step = 1 / 60;\r\n      const tick = (timestampMs) => {\r\n        if (previousMs === undefined) {\r\n          previousMs = timestampMs;\r\n        }\r\n        let delta = (timestampMs - previousMs) / 1000;\r\n        while (delta >= step) {\r\n          this.onStep();\r\n          delta -= step;\r\n        }\r\n        previousMs = timestampMs - delta * 1000;\r\n        //Recapture the callback to be able to shut it off\r\n        this.rafCallback = requestAnimationFrame(tick);\r\n      };\r\n  \r\n      // Initial kickoff\r\n      this.rafCallback = requestAnimationFrame(tick);\r\n    }\r\n  \r\n    stop() {\r\n      cancelAnimationFrame(this.rafCallback);\r\n    }\r\n  }"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,CAAC;EAClBC,WAAWA,CAACC,MAAM,EAAE;IAChB;IACF,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,KAAK,CAAC,CAAC;EACd;EAEAA,KAAKA,CAAA,EAAG;IACN,IAAIC,UAAU;IACd,MAAMC,IAAI,GAAG,CAAC,GAAG,EAAE;IACnB,MAAMC,IAAI,GAAIC,WAAW,IAAK;MAC5B,IAAIH,UAAU,KAAKI,SAAS,EAAE;QAC5BJ,UAAU,GAAGG,WAAW;MAC1B;MACA,IAAIE,KAAK,GAAG,CAACF,WAAW,GAAGH,UAAU,IAAI,IAAI;MAC7C,OAAOK,KAAK,IAAIJ,IAAI,EAAE;QACpB,IAAI,CAACJ,MAAM,CAAC,CAAC;QACbQ,KAAK,IAAIJ,IAAI;MACf;MACAD,UAAU,GAAGG,WAAW,GAAGE,KAAK,GAAG,IAAI;MACvC;MACA,IAAI,CAACP,WAAW,GAAGQ,qBAAqB,CAACJ,IAAI,CAAC;IAChD,CAAC;;IAED;IACA,IAAI,CAACJ,WAAW,GAAGQ,qBAAqB,CAACJ,IAAI,CAAC;EAChD;EAEAK,IAAIA,CAAA,EAAG;IACLC,oBAAoB,CAAC,IAAI,CAACV,WAAW,CAAC;EACxC;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}