{"ast":null,"code":"import { DIRECTION_UP, DIRECTION_DOWN, DIRECTION_RIGHT, DIRECTION_LEFT } from \"../helpers/consts\";\nexport class DirectionControls {\n  constructor() {\n    this.directionKeys = {\n      ArrowDown: DIRECTION_DOWN,\n      ArrowUp: DIRECTION_UP,\n      ArrowLeft: DIRECTION_LEFT,\n      ArrowRight: DIRECTION_RIGHT,\n      s: DIRECTION_DOWN,\n      w: DIRECTION_UP,\n      a: DIRECTION_LEFT,\n      d: DIRECTION_RIGHT\n    };\n    this.heldDirections = [];\n    this.directionKeyDownHandler = e => {\n      const dir = this.directionKeys[e.key];\n      if (dir && this.heldDirections.indexOf(dir) === -1) {\n        this.heldDirections.unshift(dir);\n      }\n    };\n    this.directionKeyUpHandler = e => {\n      const dir = this.directionKeys[e.key];\n      const index = this.heldDirections.indexOf(dir);\n      if (index > -1) {\n        this.heldDirections.splice(index, 1);\n      }\n    };\n    this.touchKeyDownHandler = e => {\n      const dir = this.directionKeys[e.key];\n      console.log(e.touches[0]);\n      if (dir && this.heldDirections.indexOf(dir) === -1) {\n        this.heldDirections.unshift(dir);\n      }\n    };\n    this.touchKeyUpHandler = e => {\n      const dir = this.directionKeys[e.key];\n      const index = this.heldDirections.indexOf(dir);\n      if (index > -1) {\n        this.heldDirections.splice(index, 1);\n      }\n    };\n    document.addEventListener(\"keydown\", this.directionKeyDownHandler);\n    document.addEventListener(\"keyup\", this.directionKeyUpHandler);\n    document.addEventListener(\"touchstart\", this.touchKeyDownHandler);\n    document.addEventListener(\"touchend\", this.touchKeyUpHandler);\n  }\n  get direction() {\n    return this.heldDirections[0];\n  }\n  unbind() {\n    document.removeEventListener(\"keydown\", this.directionKeyDownHandler);\n    document.removeEventListener(\"keyup\", this.directionKeyUpHandler);\n  }\n}","map":{"version":3,"names":["DIRECTION_UP","DIRECTION_DOWN","DIRECTION_RIGHT","DIRECTION_LEFT","DirectionControls","constructor","directionKeys","ArrowDown","ArrowUp","ArrowLeft","ArrowRight","s","w","a","d","heldDirections","directionKeyDownHandler","e","dir","key","indexOf","unshift","directionKeyUpHandler","index","splice","touchKeyDownHandler","console","log","touches","touchKeyUpHandler","document","addEventListener","direction","unbind","removeEventListener"],"sources":["C:/GitHub/AthabascaCPSCI/COMP 486/Mineral Mayhem/src/classes/DirectionControls.js"],"sourcesContent":["import {\r\n    DIRECTION_UP,\r\n    DIRECTION_DOWN,\r\n    DIRECTION_RIGHT,\r\n    DIRECTION_LEFT,\r\n  } from \"../helpers/consts\";\r\n  \r\n  export class DirectionControls {\r\n    constructor() {\r\n      this.directionKeys = {\r\n        ArrowDown: DIRECTION_DOWN,\r\n        ArrowUp: DIRECTION_UP,\r\n        ArrowLeft: DIRECTION_LEFT,\r\n        ArrowRight: DIRECTION_RIGHT,\r\n        s: DIRECTION_DOWN,\r\n        w: DIRECTION_UP,\r\n        a: DIRECTION_LEFT,\r\n        d: DIRECTION_RIGHT,\r\n      };\r\n      this.heldDirections = [];\r\n  \r\n      this.directionKeyDownHandler = (e) => {\r\n        const dir = this.directionKeys[e.key];\r\n        if (dir && this.heldDirections.indexOf(dir) === -1) {\r\n          this.heldDirections.unshift(dir);\r\n        }\r\n      };\r\n  \r\n      this.directionKeyUpHandler = (e) => {\r\n        const dir = this.directionKeys[e.key];\r\n        const index = this.heldDirections.indexOf(dir);\r\n        if (index > -1) {\r\n          this.heldDirections.splice(index, 1);\r\n        }\r\n      };\r\n\r\n      this.touchKeyDownHandler = (e) => {\r\n        const dir = this.directionKeys[e.key];\r\n        console.log(e.touches[0]);\r\n        if (dir && this.heldDirections.indexOf(dir) === -1) {\r\n          this.heldDirections.unshift(dir);\r\n        }\r\n      };\r\n  \r\n      this.touchKeyUpHandler = (e) => {\r\n        const dir = this.directionKeys[e.key];\r\n        const index = this.heldDirections.indexOf(dir);\r\n        if (index > -1) {\r\n          this.heldDirections.splice(index, 1);\r\n        }\r\n      };\r\n  \r\n      document.addEventListener(\"keydown\", this.directionKeyDownHandler);\r\n      document.addEventListener(\"keyup\", this.directionKeyUpHandler);\r\n      document.addEventListener(\"touchstart\", this.touchKeyDownHandler);\r\n      document.addEventListener(\"touchend\", this.touchKeyUpHandler);\r\n    }\r\n  \r\n    get direction() {\r\n      return this.heldDirections[0];\r\n    }\r\n  \r\n    unbind() {\r\n      document.removeEventListener(\"keydown\", this.directionKeyDownHandler);\r\n      document.removeEventListener(\"keyup\", this.directionKeyUpHandler);\r\n    }\r\n  }"],"mappings":"AAAA,SACIA,YAAY,EACZC,cAAc,EACdC,eAAe,EACfC,cAAc,QACT,mBAAmB;AAE1B,OAAO,MAAMC,iBAAiB,CAAC;EAC7BC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,aAAa,GAAG;MACnBC,SAAS,EAAEN,cAAc;MACzBO,OAAO,EAAER,YAAY;MACrBS,SAAS,EAAEN,cAAc;MACzBO,UAAU,EAAER,eAAe;MAC3BS,CAAC,EAAEV,cAAc;MACjBW,CAAC,EAAEZ,YAAY;MACfa,CAAC,EAAEV,cAAc;MACjBW,CAAC,EAAEZ;IACL,CAAC;IACD,IAAI,CAACa,cAAc,GAAG,EAAE;IAExB,IAAI,CAACC,uBAAuB,GAAIC,CAAC,IAAK;MACpC,MAAMC,GAAG,GAAG,IAAI,CAACZ,aAAa,CAACW,CAAC,CAACE,GAAG,CAAC;MACrC,IAAID,GAAG,IAAI,IAAI,CAACH,cAAc,CAACK,OAAO,CAACF,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;QAClD,IAAI,CAACH,cAAc,CAACM,OAAO,CAACH,GAAG,CAAC;MAClC;IACF,CAAC;IAED,IAAI,CAACI,qBAAqB,GAAIL,CAAC,IAAK;MAClC,MAAMC,GAAG,GAAG,IAAI,CAACZ,aAAa,CAACW,CAAC,CAACE,GAAG,CAAC;MACrC,MAAMI,KAAK,GAAG,IAAI,CAACR,cAAc,CAACK,OAAO,CAACF,GAAG,CAAC;MAC9C,IAAIK,KAAK,GAAG,CAAC,CAAC,EAAE;QACd,IAAI,CAACR,cAAc,CAACS,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;MACtC;IACF,CAAC;IAED,IAAI,CAACE,mBAAmB,GAAIR,CAAC,IAAK;MAChC,MAAMC,GAAG,GAAG,IAAI,CAACZ,aAAa,CAACW,CAAC,CAACE,GAAG,CAAC;MACrCO,OAAO,CAACC,GAAG,CAACV,CAAC,CAACW,OAAO,CAAC,CAAC,CAAC,CAAC;MACzB,IAAIV,GAAG,IAAI,IAAI,CAACH,cAAc,CAACK,OAAO,CAACF,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;QAClD,IAAI,CAACH,cAAc,CAACM,OAAO,CAACH,GAAG,CAAC;MAClC;IACF,CAAC;IAED,IAAI,CAACW,iBAAiB,GAAIZ,CAAC,IAAK;MAC9B,MAAMC,GAAG,GAAG,IAAI,CAACZ,aAAa,CAACW,CAAC,CAACE,GAAG,CAAC;MACrC,MAAMI,KAAK,GAAG,IAAI,CAACR,cAAc,CAACK,OAAO,CAACF,GAAG,CAAC;MAC9C,IAAIK,KAAK,GAAG,CAAC,CAAC,EAAE;QACd,IAAI,CAACR,cAAc,CAACS,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;MACtC;IACF,CAAC;IAEDO,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACf,uBAAuB,CAAC;IAClEc,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACT,qBAAqB,CAAC;IAC9DQ,QAAQ,CAACC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACN,mBAAmB,CAAC;IACjEK,QAAQ,CAACC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAACF,iBAAiB,CAAC;EAC/D;EAEA,IAAIG,SAASA,CAAA,EAAG;IACd,OAAO,IAAI,CAACjB,cAAc,CAAC,CAAC,CAAC;EAC/B;EAEAkB,MAAMA,CAAA,EAAG;IACPH,QAAQ,CAACI,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAClB,uBAAuB,CAAC;IACrEc,QAAQ,CAACI,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAACZ,qBAAqB,CAAC;EACnE;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}