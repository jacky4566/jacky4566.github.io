{"ast":null,"code":"var _jsxFileName = \"C:\\\\GitHub\\\\AthabascaCPSCI\\\\COMP 486\\\\Mineral Mayhem\\\\src\\\\components\\\\level-layout\\\\LevelBackgroundTilesLayer.js\";\nimport MapCell from \"./MapCell\";\nimport { THEME_TILES_MAP, CELL_SIZE } from \"../../helpers/consts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LevelBackgroundTilesLayer({\n  level,\n  cameraXY\n}) {\n  const pixelSize = getComputedStyle(document.documentElement).getPropertyValue('--pixel-size');\n  const widthWithWalls = level.tilesWidth + 1;\n  const heightWithWalls = level.tilesHeight + 1;\n  const cameraLefttile = Math.max(0, Math.floor((cameraXY[0] - window.innerWidth / 2 / pixelSize) / CELL_SIZE));\n  const cameraRighttile = Math.min(widthWithWalls, Math.ceil((cameraXY[0] + window.innerWidth / 2 / pixelSize) / CELL_SIZE) + 2);\n  const cameraTopttile = Math.max(0, Math.floor((cameraXY[1] - window.innerHeight / 2 / pixelSize) / CELL_SIZE));\n  const cameraBottomttile = Math.min(widthWithWalls, Math.ceil((cameraXY[1] + window.innerHeight / 2 / pixelSize) / CELL_SIZE) + 2);\n  const tiles = THEME_TILES_MAP[level.theme];\n  console.log(cameraLefttile, cameraRighttile);\n  function getBackgroundTile(x, y) {\n    if (x === 0) {\n      return tiles.LEFT;\n    }\n    if (x === widthWithWalls) {\n      return tiles.RIGHT;\n    }\n    if (y === 0) {\n      return tiles.TOP;\n    }\n    if (y === heightWithWalls) {\n      return tiles.BOTTOM;\n    }\n    return tiles.FLOOR;\n  }\n  let canvases = [];\n  for (let y = cameraTopttile; y <= cameraBottomttile; y++) {\n    for (let x = cameraLefttile; x <= cameraRighttile; x++) {\n      // Skip Bottom Left and Bottom Right for intentional blank tiles in those corners\n      if (y === heightWithWalls) {\n        if (x === 0 || x === widthWithWalls) {\n          continue;\n        }\n      }\n\n      // add a cell to the map\n      canvases.push( /*#__PURE__*/_jsxDEV(MapCell, {\n        x: x,\n        y: y,\n        frameCoord: getBackgroundTile(x, y)\n      }, `${x}_${y}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: canvases\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 10\n  }, this);\n}\n_c = LevelBackgroundTilesLayer;\nvar _c;\n$RefreshReg$(_c, \"LevelBackgroundTilesLayer\");","map":{"version":3,"names":["MapCell","THEME_TILES_MAP","CELL_SIZE","jsxDEV","_jsxDEV","LevelBackgroundTilesLayer","level","cameraXY","pixelSize","getComputedStyle","document","documentElement","getPropertyValue","widthWithWalls","tilesWidth","heightWithWalls","tilesHeight","cameraLefttile","Math","max","floor","window","innerWidth","cameraRighttile","min","ceil","cameraTopttile","innerHeight","cameraBottomttile","tiles","theme","console","log","getBackgroundTile","x","y","LEFT","RIGHT","TOP","BOTTOM","FLOOR","canvases","push","frameCoord","fileName","_jsxFileName","lineNumber","columnNumber","children","_c","$RefreshReg$"],"sources":["C:/GitHub/AthabascaCPSCI/COMP 486/Mineral Mayhem/src/components/level-layout/LevelBackgroundTilesLayer.js"],"sourcesContent":["import MapCell from \"./MapCell\";\r\nimport { THEME_TILES_MAP, CELL_SIZE, } from \"../../helpers/consts\";\r\n\r\nexport default function LevelBackgroundTilesLayer({ level, cameraXY }) {\r\n  const pixelSize = getComputedStyle(document.documentElement).getPropertyValue('--pixel-size');\r\n  const widthWithWalls = level.tilesWidth + 1;\r\n  const heightWithWalls = level.tilesHeight + 1;\r\n  const cameraLefttile = Math.max(0, Math.floor((cameraXY[0] - (window.innerWidth / 2 / pixelSize)) / CELL_SIZE));\r\n  const cameraRighttile = Math.min(widthWithWalls, Math.ceil((cameraXY[0] + (window.innerWidth / 2 / pixelSize)) / CELL_SIZE) + 2);\r\n  const cameraTopttile = Math.max(0, Math.floor((cameraXY[1] - (window.innerHeight / 2 / pixelSize)) / CELL_SIZE));\r\n  const cameraBottomttile = Math.min(widthWithWalls, Math.ceil((cameraXY[1] + (window.innerHeight / 2 / pixelSize)) / CELL_SIZE) + 2);\r\n  const tiles = THEME_TILES_MAP[level.theme];\r\n\r\n  console.log(cameraLefttile, cameraRighttile);\r\n\r\n  function getBackgroundTile(x, y) {\r\n    if (x === 0) {\r\n      return tiles.LEFT;\r\n    }\r\n    if (x === widthWithWalls) {\r\n      return tiles.RIGHT;\r\n    }\r\n    if (y === 0) {\r\n      return tiles.TOP;\r\n    }\r\n    if (y === heightWithWalls) {\r\n      return tiles.BOTTOM;\r\n    }\r\n    return tiles.FLOOR;\r\n  }\r\n\r\n  let canvases = [];\r\n  for (let y = cameraTopttile; y <= cameraBottomttile; y++) {\r\n    for (let x = cameraLefttile; x <= cameraRighttile; x++) {\r\n      // Skip Bottom Left and Bottom Right for intentional blank tiles in those corners\r\n      if (y === heightWithWalls) {\r\n        if (x === 0 || x === widthWithWalls) {\r\n          continue;\r\n        }\r\n      }\r\n\r\n      // add a cell to the map\r\n      canvases.push(\r\n        <MapCell\r\n          key={`${x}_${y}`}\r\n          x={x}\r\n          y={y}\r\n          frameCoord={getBackgroundTile(x, y)}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return <div>{canvases}</div>;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}