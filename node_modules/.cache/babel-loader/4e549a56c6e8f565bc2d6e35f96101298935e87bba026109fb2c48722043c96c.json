{"ast":null,"code":"import { LEVEL_THEMES, PLACEMENT_TYPE_FLOUR, PLACEMENT_TYPE_GOAL, PLACEMENT_TYPE_HERO, PLACEMENT_TYPE_WATER, PLACEMENT_TYPE_WATER_PICKUP, PLACEMENT_TYPE_TOPSOIL, PLACEMENT_TYPE_MINERAL } from \"../../helpers/consts\";\nfunction getRandom(odds) {\n  let probability = 1 / odds;\n  return Math.random() < probability;\n}\nfunction isItemExistsAtPosition(placements, x, y) {\n  return placements.some(item => item.x === x && item.y === y);\n}\nexport default function LevelGenerator(level) {\n  /* Add Top Soil */\n  for (let x = 1; x <= level.tilesWidth; x++) {\n    const newPlacement = {\n      x: x,\n      y: 1,\n      type: PLACEMENT_TYPE_TOPSOIL\n    };\n    level.placements.push(newPlacement);\n  }\n  ;\n\n  /* Add RNG items to level */\n  level.RNG.forEach(item => {\n    for (let y = item.depthStart; y <= item.depthEnd; y++) {\n      for (let x = 1; x <= level.tilesWidth; x++) {\n        /* Check if space is already taken and the odds say we can place */\n        if (!isItemExistsAtPosition(level.placements, x, y) && getRandom(item.odds)) {\n          /* Do random number fill */\n          const newPlacement = {\n            x: x,\n            y: y,\n            type: item.type\n          };\n          level.placements.push(newPlacement);\n        }\n      }\n    }\n  });\n  return level.placements;\n}\n_c = LevelGenerator;\nvar _c;\n$RefreshReg$(_c, \"LevelGenerator\");","map":{"version":3,"names":["LEVEL_THEMES","PLACEMENT_TYPE_FLOUR","PLACEMENT_TYPE_GOAL","PLACEMENT_TYPE_HERO","PLACEMENT_TYPE_WATER","PLACEMENT_TYPE_WATER_PICKUP","PLACEMENT_TYPE_TOPSOIL","PLACEMENT_TYPE_MINERAL","getRandom","odds","probability","Math","random","isItemExistsAtPosition","placements","x","y","some","item","LevelGenerator","level","tilesWidth","newPlacement","type","push","RNG","forEach","depthStart","depthEnd","_c","$RefreshReg$"],"sources":["C:/GitHub/AthabascaCPSCI/COMP 486/Mineral Mayhem/src/components/level-layout/LevelGenerator.js"],"sourcesContent":["import {\r\n    LEVEL_THEMES,\r\n    PLACEMENT_TYPE_FLOUR,\r\n    PLACEMENT_TYPE_GOAL,\r\n    PLACEMENT_TYPE_HERO,\r\n    PLACEMENT_TYPE_WATER,\r\n    PLACEMENT_TYPE_WATER_PICKUP,\r\n    PLACEMENT_TYPE_TOPSOIL,\r\n    PLACEMENT_TYPE_MINERAL,\r\n} from \"../../helpers/consts\";\r\n\r\nfunction getRandom(odds) {\r\n    let probability = 1 / odds;\r\n    return Math.random() < probability;\r\n}\r\n\r\nfunction isItemExistsAtPosition(placements, x, y) {\r\n    return placements.some(item => item.x === x && item.y === y);\r\n}\r\n\r\nexport default function LevelGenerator(level) {\r\n    /* Add Top Soil */\r\n    for (let x = 1; x <= level.tilesWidth; x++) {\r\n        const newPlacement = { x: x, y: 1, type: PLACEMENT_TYPE_TOPSOIL};\r\n        level.placements.push(newPlacement);\r\n    };\r\n\r\n    /* Add RNG items to level */\r\n    level.RNG.forEach((item) => {\r\n        for (let y = item.depthStart; y <= item.depthEnd; y++) {\r\n            for (let x = 1; x <= level.tilesWidth; x++) {\r\n                /* Check if space is already taken and the odds say we can place */\r\n                if (!isItemExistsAtPosition(level.placements, x, y) && getRandom(item.odds)) {\r\n                    /* Do random number fill */\r\n                    const newPlacement = { x: x, y: y, type: item.type };\r\n                    level.placements.push(newPlacement);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    return level.placements;\r\n}"],"mappings":"AAAA,SACIA,YAAY,EACZC,oBAAoB,EACpBC,mBAAmB,EACnBC,mBAAmB,EACnBC,oBAAoB,EACpBC,2BAA2B,EAC3BC,sBAAsB,EACtBC,sBAAsB,QACnB,sBAAsB;AAE7B,SAASC,SAASA,CAACC,IAAI,EAAE;EACrB,IAAIC,WAAW,GAAG,CAAC,GAAGD,IAAI;EAC1B,OAAOE,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGF,WAAW;AACtC;AAEA,SAASG,sBAAsBA,CAACC,UAAU,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC9C,OAAOF,UAAU,CAACG,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACH,CAAC,KAAKA,CAAC,IAAIG,IAAI,CAACF,CAAC,KAAKA,CAAC,CAAC;AAChE;AAEA,eAAe,SAASG,cAAcA,CAACC,KAAK,EAAE;EAC1C;EACA,KAAK,IAAIL,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIK,KAAK,CAACC,UAAU,EAAEN,CAAC,EAAE,EAAE;IACxC,MAAMO,YAAY,GAAG;MAAEP,CAAC,EAAEA,CAAC;MAAEC,CAAC,EAAE,CAAC;MAAEO,IAAI,EAAEjB;IAAsB,CAAC;IAChEc,KAAK,CAACN,UAAU,CAACU,IAAI,CAACF,YAAY,CAAC;EACvC;EAAC;;EAED;EACAF,KAAK,CAACK,GAAG,CAACC,OAAO,CAAER,IAAI,IAAK;IACxB,KAAK,IAAIF,CAAC,GAAGE,IAAI,CAACS,UAAU,EAAEX,CAAC,IAAIE,IAAI,CAACU,QAAQ,EAAEZ,CAAC,EAAE,EAAE;MACnD,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIK,KAAK,CAACC,UAAU,EAAEN,CAAC,EAAE,EAAE;QACxC;QACA,IAAI,CAACF,sBAAsB,CAACO,KAAK,CAACN,UAAU,EAAEC,CAAC,EAAEC,CAAC,CAAC,IAAIR,SAAS,CAACU,IAAI,CAACT,IAAI,CAAC,EAAE;UACzE;UACA,MAAMa,YAAY,GAAG;YAAEP,CAAC,EAAEA,CAAC;YAAEC,CAAC,EAAEA,CAAC;YAAEO,IAAI,EAAEL,IAAI,CAACK;UAAK,CAAC;UACpDH,KAAK,CAACN,UAAU,CAACU,IAAI,CAACF,YAAY,CAAC;QACvC;MACJ;IACJ;EACJ,CAAC,CAAC;EAGF,OAAOF,KAAK,CAACN,UAAU;AAC3B;AAACe,EAAA,GAvBuBV,cAAc;AAAA,IAAAU,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}